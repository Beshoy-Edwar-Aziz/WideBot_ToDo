import{a as x}from"./chunk-D3KMBKXW.js";import{a as D,b as T,c as G,d as P,e as q,f as j,g as O,h as R}from"./chunk-YVNHYFZY.js";import{d as L,h as B}from"./chunk-JJNDBYWJ.js";import{a as _,b as C,d as b,e as E,f as M,h as U,j as I,k as F,l as N,n as y}from"./chunk-JW5GPILN.js";import"./chunk-WXI33M2S.js";import{Aa as d,Ba as g,Oa as c,Qa as f,Ta as h,Xa as l,Ya as o,Za as u,ab as S,ba as w,e as A,jb as s,qb as v}from"./chunk-XWQRBV7U.js";var p=A(B());function J(r,n){r&1&&(l(0,"mat-hint",4),s(1,"This Field is Required"),o())}function $(r,n){r&1&&(l(0,"mat-hint",4),s(1,"Password is required"),o())}function k(r,n){r&1&&(l(0,"mat-hint",4),s(1,"Password must have a number, an uppercase, a lowercase and a symbol"),o())}var{pattern:z,minLength:re,maxLength:ne,required:V}=C,le=(()=>{let n=class n{constructor(i,a){this._storageService=i,this._router=a,this.UsersList=[],this.logUser=new M({email:new U("",[V]),password:new U("",[V,z(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)])})}handleLogin(){if(localStorage.getItem("UsersList")!=null){let i=localStorage.getItem("UsersList");this.UsersList=JSON.parse(i)}if(this.UsersList.length!=0)for(let i=0;i<this.UsersList.length;i++)if(this.UsersList[i].email==this.logUser.value.email&&this.UsersList[i].password==this.logUser.value.password){p.default.fire({title:"Success",icon:"success"}),localStorage.setItem("UserLoggedIn",JSON.stringify(!0)),this._storageService.updateLocal(localStorage.getItem("UserLoggedIn")),this._router.navigate(["/ToDo"]);break}else p.default.fire({title:"User Does Not Exist",icon:"error"});else p.default.fire({title:"User Does Not Exist",icon:"error"})}};n.\u0275fac=function(a){return new(a||n)(g(x),g(L))},n.\u0275cmp=w({type:n,selectors:[["app-login"]],standalone:!0,features:[v],decls:19,vars:4,consts:[[1,"container","shadow-lg"],[1,"row"],[1,"col-md-8","d-flex","flex-column","w-50","m-auto",3,"submit","formGroup"],["matInput","","type","text","formControlName","email","placeholder","Email",1,""],[1,"text-danger"],["matInput","","type","password","formControlName","password","placeholder","Password"],["mat-raised-button","",1,"btn","btn-success",3,"disabled"],[1,"col-md-4"],["src","assets/signin-image.jpg","alt","SignIn"]],template:function(a,t){if(a&1&&(l(0,"section")(1,"div",0)(2,"div",1)(3,"form",2),S("submit",function(){return t.handleLogin()}),l(4,"mat-form-field")(5,"mat-label"),s(6,"Email"),o(),u(7,"input",3),c(8,J,2,0,"mat-hint",4),o(),l(9,"mat-form-field")(10,"mat-label"),s(11,"Password"),o(),u(12,"input",5),c(13,$,2,0,"mat-hint",4)(14,k,2,0),o(),l(15,"button",6),s(16,"Login"),o()(),l(17,"div",7),u(18,"img",8),o()()()()),a&2){let m,e;d(3),f("formGroup",t.logUser),d(5),h(8,(m=t.logUser.get("email"))!=null&&m.touched&&((m=t.logUser.get("email"))!=null&&m.errors)?8:-1),d(5),h(13,(e=t.logUser.get("password"))!=null&&e.touched&&((e=t.logUser.get("password"))!=null&&e.errors)&&((e=t.logUser.get("password"))!=null&&e.getError("required"))?13:(e=t.logUser.get("password"))!=null&&e.touched&&((e=t.logUser.get("password"))!=null&&e.errors)&&((e=t.logUser.get("password"))!=null&&e.getError("pattern"))?14:-1),d(2),f("disabled",t.logUser.invalid)}},dependencies:[P,G,D,T,j,q,R,O,y,I,_,b,E,F,N],styles:["section[_ngcontent-%COMP%]{padding:80px 0}"]});let r=n;return r})();export{le as LoginComponent};
